#include <stdio.h>
#include <stdlib.h>

struct target{
    void (*fp)(void);
    int age;
};

struct base{
    char *name;
    int age;
};

void get_shell(void){
    system("/bin/sh");
}

int main(int argc, char *argv[]){
    struct base *Bbase = malloc(sizeof(struct base));
    Bbase->name = (void *)get_shell;
    Bbase->age = 24;
    printf("%#lx\n", Bbase->name);

    // Type-Confusion Trigger

    ((struct target *)Bbase)->fp();
    return 0;
}
